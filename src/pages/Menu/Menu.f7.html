<template>
  <div class="page">
    <div class="navbar theme-red">
      <div class="navbar-inner">
        <div class="left">
          <a href="#" class="link panel-open" data-panel="left">
            <i class="icon f7-icons if-ios">menu</i>
            <i class="icon material-icons if-md">menu</i>
          </a>
        </div>

        <div class="center">
          <!--a
            className='flex-parent-inline btn color-blue color-white-on-active bg-transparent bg-darken10-on-hover bg-blue-on-active txt-s ml3'
            href='#'-->
            <span>Registro de Actividades</span> AVP
          <!--/a-->
        </div>


      </div>
    </div>
    <div class="page-content">
      <div class="block">
        <div class="list inset">
          <ul>
            <li>
              <span id="lblnombre" name="lblnombre"></span>
            </li>
            <li>
              <span id="lbldni" name="lbldni"></span>
            </li>
            <li>
              <span id="lblperfil" name="lblperfil"></span>
            </li>
          </ul>
        </div>


        <p class="row">
          <button @click="irActividades" class="col button button-raised button-fill button-round">1. ACTIVIDAD EN CAMPO</button>
        </p>
        <p class="row">
          <button @click="irInicio" class="col button button-raised button-fill button-round">2. INGRESO/SALIDA DEL MTC</button>
        </p>
        <!--p class="row">
          <button class="col button button-raised button-fill button-round">SALIDA DEL MTC</button>
        </p-->
      </div>
    </div>

  </div>
</template>
<script>
  import './css/mapa.css';
  import $ from "jquery";
  import {objectToString, StringToObject} from '../../helper'


  export default {
    created() {
      //var lc=L.control.locate({flyTo:true,}).addTo(map);
      //lc.start();
      /*Routeo de servidores*/
    },
    on: {
      pageInit: function (event, page) {
        let config;
        if(localStorage.usuariopersonal != undefined){
          const app = this.$app;

          config = JSON.parse(localStorage.usuariopersonal);

          $('#lblnombre').text(`Hola, ${config[0].nombres_apellidos}`);
          $('#lbldni').text(`DNI: ${config[0].dni}`);
          $('#lblperfil').text(`Perfil: ${config[0].perfil}`);
        }

      }
    },

    methods: {

      irActividades() {
        const app = this.$app;
        const router = this.$router;
        router.navigate('/registro-campo/', {pushState: true});
      },
      irInicio() {
        const app = this.$app;
        const router = this.$router;
        router.navigate('/registro-ingreso-salida-mtc/', {pushState: true});

      },


    }


  }
</script>
